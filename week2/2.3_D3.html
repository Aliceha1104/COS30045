<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8"/>
	<meta name="description"	content="Data Visualisation"/>
	<meta name="keywords"		  content="HTML, CSS, D3"/>
	<meta name="author"			  content="Phuong Doanh Ha"/>

	<title>Task 2.2 D3 Data Binding</title>

    <script src="https://d3js.org/d3.v7.min.js"></script>

</head>

<body>

    <h1>Drawing with Data: Scatter Plot</h1>

    <script>

        var dataset = [
                        [5, 20, 5],
                        [480, 90, 5],
                        [250, 50, 5],
                        [100, 50, 5],
                        [330, 95, 12],
                        [410, 12, 12],
                        [475, 44, 9],
                        [25, 67, 3],
                        [85, 21, 14],
                        [220, 88, 7]
                      ];

        var svg = d3.select("body")
                    .append("svg")
                    .attr("width", 800)
                    .attr("height", 120);

            svg.selectAll("circle")
               .data(dataset)
               .enter()
               .append("circle")
               .attr("cx", function(d, i)
               {
                    return d[0];
               })
               .attr("cy", function(d)
               {
                    return d[1];
               })
               .attr("r", function(d)
               {
                    return d[2];
               })
               .style("fill", function(d) {
                if (d[1] > 60) {
                    return "red"; 
                } else {
                    return "LightSlateGray"; 
                };
                })
                
                svg.selectAll("text")
                .data(dataset)
                .enter()
                .append("text")
                .text(function(d) {
                    return d[0] + "," + d[1];
                })
                .attr("x", function(d) {
                return d[0] + 12; // offset x position to the right
                })
                .attr("y", function(d) {
                return d[1] - 5; // offset y position up
                })
                .style("font-size", "10px")
                .style("fill", "black");

    </script>
    
<footer style="color: darkgray;">COS30045 Data Visualisation<br>
Phuong Doanh Ha</footer>
</body>